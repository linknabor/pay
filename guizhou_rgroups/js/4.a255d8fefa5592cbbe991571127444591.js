webpackJsonp([4],{"BF+e":function(t,e){},RWFv:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("YJId"),a={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"controller"},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.load,expression:"load"}],staticClass:"load6",attrs:{id:"LoadingBar"}},[s("div",{staticClass:"bounce1"}),t._v(" "),s("div",{staticClass:"bounce2"}),t._v(" "),s("div",{staticClass:"bounce3"})]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.load,expression:"load"}],staticClass:"black_overlay",attrs:{id:"fade"}}),t._v(" "),s("div",{staticClass:"rule_intro",on:{click:t.gotosgrouprulr}},[s("img",{staticStyle:{width:"100%"},attrs:{alt:"",src:i("S8T/")}})]),t._v(" "),t._m(0),t._v(" "),s("div",[t.product.pictureList.length>0?s("swiper",{ref:"mySwiper",attrs:{options:t.swiperOption}},[t._l(t.product.pictureList,function(t,e){return s("swiper-slide",{key:e},[s("div",{staticClass:"ban1"},[s("img",{attrs:{src:t,alt:""}})])])}),t._v(" "),s("div",{staticClass:"swiper-pagination",attrs:{slot:"pagination"},slot:"pagination"})],2):t._e()],1),t._v(" "),s("div",{staticClass:"product-info p15"},[s("div",{staticClass:"product-detail-name fs16"},[t._v(t._s(t.rule.name))]),t._v(" "),s("div",{staticStyle:{width:"100%",height:"30px"}},[s("div",{staticClass:"highlight fs22 fl three_div"},[t._v("¥ "+t._s(t.rule.price)+" ")]),t._v(" "),s("div",{staticClass:"highlight fl fs14 three_div",staticStyle:{"padding-top":"8px"}},[t._v(t._s(t.rule.discount)+" ")]),t._v(" "),s("div",{staticClass:"ori-price2 three_div",staticStyle:{"padding-top":"8px"}},[t._v("运费  "),s("span",{staticClass:"highlight"},[t._v("¥"+t._s(t.rule.postageFee))])])]),t._v(" "),s("div",{staticStyle:{width:"100%",height:"20px"}},[s("div",{staticClass:"ori-price2 fl three_div"},[t._v("市场价"),s("del",[t._v("¥ "+t._s(t.product.oriPrice))])]),t._v(" "),s("div",{staticClass:"ori-price2 fl three_div"},[t._v("目标份数"),s("span",{staticClass:"highlight"},[t._v(t._s(t.rule.groupMinNum))]),t._v("份")]),t._v(" "),s("div",{staticClass:"ori-price2 three_div",attrs:{"ms-visible":"rule.freeShippingNum<999"}},[s("span",{staticClass:"highlight"},[t._v(t._s(t.rule.freeShippingNum))]),t._v("件包邮")])]),t._v(" "),s("div",{staticStyle:{width:"100%",height:"1px"}},[t._v(" ")])]),t._v(" "),t.finished?t._e():s("div",{staticClass:"mt2 time-wrap bb3"},[s("span",{staticClass:"time-text"},[t._v("剩余")]),t._v(" "),"00"!=t.left.days?s("span",[s("span",{staticClass:"time-number"},[t._v(t._s(t.left.days))]),t._v("天")]):t._e(),t._v(" "),s("span",{staticClass:"time-number"},[t._v(t._s(t.left.hours))]),s("span",[t._v("时")]),t._v(" "),s("span",{staticClass:"time-number"},[t._v(t._s(t.left.minitus))]),s("span",[t._v("分")]),t._v(" "),s("span",[s("span",{staticClass:"time-number"},[t._v(t._s(t.left.seconds))]),t._v("秒")]),t._v(" "),s("span",{staticClass:"time-text"},[t._v("结束")])]),t._v(" "),t.finished?s("div",{staticClass:"mt2 time-wrap bb3  fs18"},[t._v("\n\t\t    已结束\n\t    ")]):t._e(),t._v(" "),s("div",{staticClass:"rgroup-info bb3",attrs:{id:"products"}},[s("div",{staticClass:"fl ",staticStyle:{"margin-top":"23px","margin-left":"15px",color:"#999","font-size":"14px"}},[t._v("报名进度")]),t._v(" "),t._m(1),t._v(" "),s("div",{staticClass:"fr",staticStyle:{"margin-top":"23px",color:"#333","font-size":"15px","margin-right":"15px"}},[t._v("已报名人数"),s("span",{staticStyle:{color:"#FF9933","font-size":"15px","margin-left":"5px"}},[t._v(t._s(t.rule.currentNum))])])]),t._v(" "),s("div",{staticClass:"p15 mb15"},[s("div",{staticClass:"section-title",staticStyle:{"padding-left":"0px","padding-top":"0px"},on:{click:t.toggleDetail}},[t._v("\n                报名规则\n                "),s("i",{staticClass:"icon more-icon align-right fr",class:{topIcon:t.showDetail}})]),t._v(" "),s("ul",{staticStyle:{"padding-top":"3px"}},[s("li",{staticClass:"detail-item",domProps:{innerHTML:t._s(t.product.serviceDesc)}})]),t._v(" "),t.showDetail?s("ul",{staticStyle:{"padding-top":"3px"}},[s("li",{staticClass:"detail-item",domProps:{innerHTML:t._s(t.product.serviceDescMore)}})]):t._e()]),t._v(" "),s("div",{staticClass:"activityTitleLine",staticStyle:{"margin-bottom":"85px",display:"block"}},[s("span",{staticClass:"more_btn",on:{click:function(e){t.goclassify()}}},[t._v("点击查看更多商品")])]),t._v(" "),s("div",{staticClass:"btn-home-fixed",staticStyle:{color:"white",position:"fixed",width:"100%",bottom:"0px"}},[s("span",{staticClass:"fl",staticStyle:{height:"40px","line-height":"40px",width:"36%","background-color":"#444","text-align":"center","font-size":"15px"},on:{click:function(e){t.goclassify()}}},[t._v("\n                更多团购\n            ")]),t._v(" "),s("span",{staticClass:"fl",class:{useless:t.rule.leftSeconds<0},staticStyle:{height:"40px","line-height":"40px",width:"64%","background-color":"#ff8a00","text-align":"center","font-size":"15px"},on:{click:t.buy}},[t._v("\n                马上参团\n            ")])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticStyle:{width:"100%"}},[e("img",{staticStyle:{width:"100%"},attrs:{alt:"",src:i("S8T/")}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"fr plr10",staticStyle:{"border-left":"#d5d59d 1px solid"},attrs:{id:"processImg"}},[e("canvas",{attrs:{width:"70px",height:"70px"}})])}]};var l=function(t){i("BF+e"),i("pxPr")},r=i("VU/8")(s.a,a,!1,l,"data-v-79dc4e0c",null);e.default=r.exports},YJId:function(t,e,i){"use strict";(function(t){var s=i("7QTg"),a=(i.n(s),i("fxnj")),l=i.n(a),r=void 0;e.a={data:function(){return{load:!0,finished:!1,showDetail:!1,left:{days:"0",hours:"0",minitus:"0",seconds:"0"},product:{pictureList:[]},rule:{currentNum:0},ruleId:this.$route.query.ruleId,swiperOption:{notNextTick:!0,autoplay:{disableOnInteraction:!1,delay:6e3},pagination:{el:".swiper-pagination"},loop:!0}}},created:function(){r=this},mounted:function(){var t=location.href.split("#")[0];r.receiveData.wxconfig(r,l.a,["onMenuShareTimeline","onMenuShareAppMessage"],t),r.read()},updated:function(){r.drawP()},methods:{read:function(){""!=r.ruleId&&r.query()},query:function(){var t="getRgroupRule/"+r.ruleId;r.receiveData.getData(r,t,"Data",function(){r.Data.success?r.Data.result&&(r.load=!1,r.rule=r.Data.result,r.products(r.rule.productId),setInterval(r.updateLeftTime,1e3)):(r.load=!1,alert(null==r.Data.message?"获取团购信息失败！":r.Data.message))})},products:function(t){var e="getProduct/"+t;r.receiveData.getData(r,e,"res",function(){r.res.success?r.res.result&&(r.product=r.res.result,r.common.initShareConfig(r.rule.name,r.basePageUrlpay+"guizhourgroups.html?/#/rgroupdetail?ruleId="+r.ruleId,r.product.smallPicture,"快来参加"+r.config.newname+"的优惠商品抢购吧",l.a)):alert(null==r.res.message?"获取产品信息失败！":r.res.message)})},updateLeftTime:function(){if(r.rule.leftSeconds>0){r.finished=!1,r.rule.leftSeconds=r.rule.leftSeconds-1;var t=r.rule.leftSeconds,e=parseInt(t/86400);r.left.days=e<10?"0"+e:e,t%=86400;var i=parseInt(t/3600);r.left.hours=i<10?"0"+i:i,t%=3600;var s=parseInt(t/60);r.left.minitus=s<10?"0"+s:s,t%=60,r.left.seconds=t<10?"0"+t:t}else r.finished=!0},drawP:function(){r.drawProcess(t("#products canvas")[0],35,35,28,r.rule.process,"#E5E2DD","#FF8A00","#FF8A00")},drawProcess:function(t,e,i,s,a,l,r,n){if(void 0!=a&&null!=a&&t.getContext){var o=t.getContext("2d");o.beginPath(),o.moveTo(e,i),o.arc(e,i,s,0,2*Math.PI,!1),o.closePath(),o.fillStyle=l,o.fill(),o.beginPath(),o.moveTo(e,i),o.arc(e,i,s,1.5*Math.PI,1.5*Math.PI+2*Math.PI*a/100,!1),o.closePath(),o.fillStyle=r,o.fill(),o.beginPath(),o.moveTo(e,i),o.arc(e,i,s-.04*s,0,2*Math.PI,!0),o.closePath(),o.fillStyle="rgba(255,255,255,1)",o.fill(),o.beginPath(),o.arc(e,i,s-.04*s,0,2*Math.PI,!0),o.closePath(),o.strokeStyle=l,o.stroke(),o.font="8pt Arial",o.fillStyle=n,o.textAlign="center",o.textBaseline="middle",o.moveTo(e,i-7),o.fillText(a+"%",e,i-7),o.moveTo(e,i+7);var c=a<100?"进行中":"已成团";o.fillText(c,e,i+7);var d=e+Math.sin(2*Math.PI*a/100)*(s-1.6),u=i-Math.cos(2*Math.PI*a/100)*(s-1.6);o.beginPath(),o.moveTo(d,u),o.arc(d,u,3,0,2*Math.PI,!0),o.closePath(),o.fillStyle=r,o.fill()}},toggleDetail:function(){r.showDetail=!r.showDetail},gotosgrouprulr:function(){r.$router.push({path:"/sgrouprule"})},goclassify:function(){location.href=r.basePageUrlpay+"guizhourgroups.html?type="+r.rule.productType},buy:function(){r.rule.id&&r.$router.push({path:"/buy",query:{type:"4",ruleId:r.rule.id}})}},components:{swiper:s.swiper,swiperSlide:s.swiperSlide},computed:{}}}).call(e,i("7t+N"))},pxPr:function(t,e){}});
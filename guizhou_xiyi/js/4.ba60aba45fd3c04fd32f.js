webpackJsonp([4],{SRPM:function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var i=e("fxnj"),a=e.n(i),r=void 0,n={data:function(){return{orderList:[],inited:!1}},created:function(){r=this},mounted:function(){r.query()},methods:{query:function(){r.receiveData.postData(r,"/yunxiyi/bills/0",null,"res",function(){r.res.success?(r.orderList=r.res.result,r.inited=!0):(r.inited=!0,alert("订单数据获取失败，请稍后重试！"))})},gotoPage:function(){r.$router.push({path:"/"})},gotoDetail:function(t){r.orderList[t].status<8&&r.$router.push({path:"/xiyi_detail",query:{oId:r.orderList[t].id}})},cancel:function(t){r.receiveData.postData(r,"/yunxiyi/bill/"+r.orderList[t].id+"/cancel",null,"res",function(){r.res.success?(r.orderList[t].status=8,r.orderList[t].statusStr="已取消"):alert(r.res.message?"订单取消失败，请稍后重试！":r.res.message)})},pay:function(t){r.receiveData.postData(r,"/yunxiyi/pay/"+r.orderList[t].id,null,"res",function(){r.res.success?(a.a.config({debug:!1,appId:r.res.result.appId,timestamp:r.res.result.timestamp,nonceStr:r.res.result.nonceStr,signature:r.res.result.signature,jsApiList:["chooseWXPay"]}),a.a.chooseWXPay({timestamp:r.res.result.timestamp,nonceStr:r.res.result.nonceStr,package:r.res.result.pkgStr,signType:r.res.result.signType,paySign:r.res.result.signature,success:function(s){r.notifyPayed(t)}})):alert(r.res.message?"支付请求失败，请稍后重试！":r.res.message)})},notifyPayed:function(t){var s="/yunxiyi/notifyPayed/"+r.orderList[t].id;r.receiveData.getData(r,s,"Data",function(){r.orderList[t].statusStr="已支付",r.orderList[t].status=2})}},components:{},computed:{}},o={render:function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"xiyi_list"},[0==t.orderList.length&&t.inited?i("div",{staticClass:"nopage"},[i("img",{staticClass:"nopage_img",attrs:{src:e("WQ8D")}}),t._v(" "),i("div",{staticClass:"nopage_desc"},[t._v("您还没有订单哦！")]),t._v(" "),i("div",{staticClass:"btn_desc"},[t._v("点击下方按钮立即预约")]),t._v(" "),i("div",{staticClass:"order_btn",on:{click:function(s){t.gotoPage()}}},[t._v("立即预约")])]):t._e(),t._v(" "),t.orderList.length>0?i("div",t._l(t.orderList,function(s,e){return i("div",{key:s.id,staticClass:"list_body",on:{click:function(s){t.gotoDetail(e)}}},[i("p",{staticClass:"borderline"}),t._v(" "),i("div",{staticClass:"time_desc"},[t._v("下单时间: "+t._s(s.createDateStr))]),t._v(" "),i("div",{staticClass:"list_main"},[i("img",{staticClass:"item_logo",attrs:{src:s.billLogo,alt:""}}),t._v(" "),i("div",{staticClass:"item_desc"},[t._v("订单编号: ")]),i("div",{staticClass:"item_desc"},[t._v(t._s(s.orderNo))]),t._v(" "),i("div",{staticClass:"item_desc"},[t._v("取件时间: "+t._s(s.serviceDateStr))]),t._v(" "),i("div",{staticClass:"item_desc highlight"},[t._v(t._s(s.statusStr))])]),t._v(" "),i("div",{staticClass:"status_bar"},[i("span",[t._v("实际支付: "),i("span",{staticStyle:{color:"#ff8a00"}},[t._v(t._s(s.realAmount)+"元")])]),t._v(" "),i("p",{staticClass:"fr btns"},[1==s.status?i("span",{staticClass:"cancel",on:{click:function(s){s.stopPropagation(),t.cancel(e)}}},[t._v("取消订单")]):t._e(),t._v(" "),1==s.status?i("span",{staticClass:"pay",on:{click:function(s){s.stopPropagation(),t.pay(e)}}},[t._v("付款")]):t._e()])])])}),0):t._e()])},staticRenderFns:[]};var c=e("VU/8")(n,o,!1,function(t){e("nfWq")},"data-v-240ed6d8",null);s.default=c.exports},WQ8D:function(t,s,e){t.exports=e.p+"guizhou_xiyi/img/noorder.7bb5098.png"},nfWq:function(t,s){}});
//# sourceMappingURL=4.ba60aba45fd3c04fd32f.js.map?v=1574062565714
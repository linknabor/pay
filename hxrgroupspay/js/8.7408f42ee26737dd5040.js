webpackJsonp([8],{Chok:function(t,s){},baKV:function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var o=void 0,n={name:"coupon",data:function(){return{coupons:this.$route.params.coupons,type:this.$route.query.type,ruleId:this.$route.query.ruleId,couponid:this.$route.query.couponid,count:this.$route.query.count,totalAmount:this.$route.query.totalAmount}},created:function(){o=this},components:{},computed:{},mounted:function(){o.queryCoupon()},methods:{queryCoupon:function(){var t={salePlanType:o.type,itemList:[{ruleId:o.ruleId,count:o.count}]};o.receiveData.postData(o,"/coupon/valid",t,"res",function(){o.res.success?null!=o.res.result&&(o.coupons=o.res.result,o.couponNum=o.coupons.length,o.computeAmount()):alert(o.res.message)})},apply:function(t){o.couponid!=t.id?o.couponid=t.id:o.couponid=""},determine:function(){o.$router.push({path:"/buy",name:"buy",query:{type:o.type,ruleId:o.ruleId,counts:o.count,totalprice:o.totalAmount,couponid:o.couponid,suspend:1}})}}},u={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"coupons"},[e("div",{staticClass:"content"},[e("div",{staticClass:"head"},[t._v("\n            可有优惠券\n        ")]),t._v(" "),t._l(t.coupons,function(s){return e("div",{key:s.id,staticClass:"coupon ov",on:{click:function(e){t.apply(s)}}},[e("div",{staticClass:"fl coupon-right"},[e("span",{staticClass:"f48"},[t._v(t._s(s.amount))]),e("br"),t._v(" "),e("span",{staticClass:"text3 mg1"},[t._v("满"+t._s(s.usageCondition)+"金额可用")])]),t._v(" "),e("div",{staticClass:"fl coupon-left "},[e("i",{staticClass:"icon_se ",class:{icon_seactive:s.id==t.couponid}}),t._v(" "),e("div",{staticClass:"tSemicircle"}),t._v(" "),e("div",{staticClass:"ov describe"},[e("span",{staticClass:"text1"},[t._v(t._s(s.title))]),t._v(" "),e("span",{staticClass:"text3 describe-h ellipsis2"},[t._v(t._s(s.couponDesc))]),t._v(" "),e("span",{staticClass:"text3"},[t._v(t._s(s.useStartDateStr)+"-"+t._s(s.useEndDateStr))])]),t._v(" "),e("div",{staticClass:"bSemicircle"})])])})],2),t._v(" "),e("div",{staticClass:"btn_area",on:{click:function(s){t.determine()}}},[e("div",{staticClass:"more_btn"},[t._v("确定")])])])},staticRenderFns:[]};var i=e("VU/8")(n,u,!1,function(t){e("Chok")},"data-v-457613d5",null);s.default=i.exports}});
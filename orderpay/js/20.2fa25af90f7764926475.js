webpackJsonp([20],{J2mU:function(i,e){},uTIO:function(i,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=t("fxnj"),o=t.n(s),c=void 0,a=void 0,l={data:function(){return{orderId:this.$route.query.orderId,logisticType:2,logisticNamecode:"",logisticNo:"",logisticList:[],isOriginHei:!0,screenHeight:document.documentElement.clientHeight,originHeight:document.documentElement.clientHeight}},created:function(){c=this},components:{},computed:{},watch:{logisticNo:function(i,e){c.shousuo()},screenHeight:function(i){this.originHeight>i+100?this.isOriginHei=!1:this.isOriginHei=!0}},mounted:function(){var i=this;window.onresize=function(){i.screenHeight=document.documentElement.clientHeight};var e=location.href.split("#")[0];c.receiveData.wxconfig(c,o.a,["scanQRCode","getLocation"],e)},methods:{show:function(){c.receiveData.scan(c,o.a,"logisticNo")},shousuo:function(){var i=this;a&&clearTimeout(a),a=setTimeout(function(){""!=c.logisticNo&&i.logistics()},400)},logistics:function(){c.receiveData.getData(c,"/logistics/"+c.logisticNo,"res",function(){c.res.success?(c.logisticList=c.res.result,1==c.logisticList.length?c.logisticNamecode=c.logisticList[0].name:c.logisticList.length>1?(c.logisticNamecode="",alert("未准确查询到对应物流公司，请选择")):(c.logisticList.push({code:null,createDate:null,id:null,name:"其他"}),c.logisticNamecode=c.logisticList[0].name)):alert(null==c.res.message?"请稍后重试！":c.res.message)})},toTrim:function(){c.logisticNo=c.logisticNo.replace(/\s/g,"")},fixScroll:function(){!!navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)&&window.scrollTo(0,0)},logis:function(){if(2!=c.logisticType||""!=c.logisticNo&&""!=c.logisticNamecode&&void 0!=c.logisticNamecode){0==c.logisticType&&(c.logisticNo="",c.logisticNamecode="");for(var i="",e=0;e<c.logisticList.length;e++)c.logisticNamecode==c.logisticList[e].name&&(i=c.logisticList[e].code);var t={orderId:c.orderId,logisticType:c.logisticType,logisticNo:c.logisticNo,logisticCode:i,logisticName:c.logisticNamecode};c.receiveData.postData(c,"/logistics/save",t,"res",function(){c.res.success?c.$router.push({path:"/consignment",query:{orderId:c.orderId}}):alert(c.res.message)})}else alert("请输入运单号或者物流公司")}}},n={render:function(){var i=this,e=i.$createElement,t=i._self._c||e;return t("div",{staticClass:"delivery"},[t("div",{staticClass:"outside"},[t("div",{staticClass:"title"},[i._v("\r\n            发货方式\r\n        ")]),i._v(" "),t("div",{staticClass:"logis ov"},[t("div",{staticClass:"fl posi"},[t("input",{directives:[{name:"model",rawName:"v-model",value:i.logisticType,expression:"logisticType"}],attrs:{type:"radio",id:"logistics",name:"logistics",value:"2"},domProps:{checked:i._q(i.logisticType,"2")},on:{change:function(e){i.logisticType="2"}}}),i._v(" "),t("label",{staticClass:"fors",attrs:{for:"logistics"}},[t("i",{staticClass:"devrad",class:{devradi:2==i.logisticType,devrad2:2==i.logisticType}}),i._v("需要物流")])]),i._v(" "),t("div",{staticClass:"fl posi"},[t("input",{directives:[{name:"model",rawName:"v-model",value:i.logisticType,expression:"logisticType"}],attrs:{type:"radio",id:"business",name:"logistics",value:"0"},domProps:{checked:i._q(i.logisticType,"0")},on:{change:function(e){i.logisticType="0"}}}),i._v(" "),t("label",{attrs:{for:"business"}},[i._v("商家配送"),t("i",{staticClass:"devrad",class:{devradi:0==i.logisticType,devrad2:0==i.logisticType}})])])]),i._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:0!=i.logisticType,expression:"logisticType != 0"}],staticClass:"main"},[t("div",{staticClass:"main-type"},[i._v("运单号:")]),i._v(" "),t("div",{staticClass:"main-yun"},[t("input",{directives:[{name:"model",rawName:"v-model",value:i.logisticNo,expression:"logisticNo"}],attrs:{type:"text",placeholder:"单行输入"},domProps:{value:i.logisticNo},on:{input:[function(e){e.target.composing||(i.logisticNo=e.target.value)},i.toTrim],blur:i.fixScroll}}),i._v(" "),t("div",{staticClass:"scan-icon",on:{click:i.show}})])]),i._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:0!=i.logisticType,expression:"logisticType != 0"}],staticClass:"main"},[t("div",{staticClass:"main-type"},[i._v("请选择快递公司")]),i._v(" "),t("div",{staticClass:"main-sele"},[t("select",{directives:[{name:"model",rawName:"v-model",value:i.logisticNamecode,expression:"logisticNamecode"}],attrs:{name:"",id:""},on:{blur:i.fixScroll,change:function(e){var t=Array.prototype.filter.call(e.target.options,function(i){return i.selected}).map(function(i){return"_value"in i?i._value:i.value});i.logisticNamecode=e.target.multiple?t:t[0]}}},i._l(i.logisticList,function(e,s){return t("option",{key:s,attrs:{logisindex:e.index},domProps:{value:e.name}},[i._v(i._s(e.name))])})),i._v(" "),t("div",{staticClass:"fang iconfont icon-sousuo"})])]),i._v(" "),t("div",{staticStyle:{height:"1rem"}}),i._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:i.isOriginHei,expression:"isOriginHei"}],staticClass:"btn",on:{click:i.logis}},[i._v("\r\n            点击发货\r\n        ")])])])},staticRenderFns:[]};var r=t("VU/8")(l,n,!1,function(i){t("J2mU")},"data-v-20a2150e",null);e.default=r.exports}});
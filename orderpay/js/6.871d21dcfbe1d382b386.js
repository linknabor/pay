webpackJsonp([6],{a9ow:function(t,e,s){"use strict";(function(t){var a=s("fxnj"),n=s.n(a),r=s("Au9i"),o=(s.n(r),void 0);e.a={data:function(){return{amount:"|",orderId:this.$route.query.orderId,incolor:!1,status:this.$route.query.status}},created:function(){o=this},mounted:function(){},components:{},methods:{getfocus:function(){"|"==o.amount&&(o.amount=""),o.incolor=!0},getblur:function(){""==o.amount&&(o.amount="|",o.incolor=!1)},onlinePay:function(){if(!o.orderId||o.orderId<=0)alert("页面错误，请到订单详情页重新发起支付！");else{var t=o.amount;""==t||isNaN(t)?alert("请输入正确金额"):o.onlinePays()}},onlinePays:function(){o.orderId,o.amount;t("#zzmb").show(),o.receiveData.postData(o,"/customService/order/pay?orderId="+o.orderId+"&amount="+o.amount,{},"res",function(){o.res.success?(n.a.config({debug:!1,appId:o.res.result.appid,timestamp:o.res.result.timestamp,nonceStr:o.res.result.noncestr,signature:o.res.result.paysign,jsApiList:["chooseWXPay"]}),n.a.chooseWXPay({timestamp:o.res.result.timestamp,nonceStr:o.res.result.noncestr,package:o.res.result.package,signType:o.res.result.signtype,paySign:o.res.result.paysign,success:function(t){alert("支付成功！"),o.$router.push({path:"/appraise",query:{ordersID:o.orderId}})},fail:function(e){t("#zzmb").hide()},cancel:function(t){o.paycancel()}})):(alert(null==o.res.message?"支付请求失败，请稍后重试!":o.res.message),t("#zzmb").hide())})},paycancel:function(){o.receiveData.postData(o,"customService/order/cancelPay?orderId="+o.orderId,null,"res",function(){o.res.success?(alert("支付取消"),t("#zzmb").hide()):(t("#zzmb").hide(),alert(o.res.message))})}},computed:{}}}).call(e,s("7t+N"))},aMnh:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("a9ow"),n={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"repay"},[s("div",{staticClass:"zzmb",attrs:{id:"zzmb"}}),t._v(" "),s("div",{staticClass:"title-top"},[t._v("服务已完工，请支付费用")]),t._v(" "),s("div",{staticClass:"title-mid lite-divider"},[s("div",{staticClass:"title-mid-top"},[t._v("请输入费用（元）")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.amount,expression:"amount"}],staticClass:"title-mid-bottom",class:{tcolor:t.incolor},attrs:{type:"text"},domProps:{value:t.amount},on:{focus:function(e){t.getfocus()},blur:function(e){t.getblur()},input:function(e){e.target.composing||(t.amount=e.target.value)}}})]),t._v(" "),s("div",{staticClass:"main_btn"},[s("div",{staticClass:"btn",on:{click:t.onlinePay}},[t._v("立即微信支付")])])])},staticRenderFns:[]};var r=function(t){s("fh63")},o=s("VU/8")(a.a,n,!1,r,"data-v-ba8a2402",null);e.default=o.exports},fh63:function(t,e){}});